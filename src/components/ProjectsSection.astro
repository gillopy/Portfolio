---
import projectsData from '../data/projects.json';
import siteConfig from '../data/siteConfig.json';
import ProjectCard from './ProjectCard.astro';
---

<section id="proyectos" class="projects py-16 bg-section-dark">
  <div class="container mx-auto px-6">
    <h2 class="section-title text-3xl md:text-4xl font-bold text-slate-900 mb-12 text-center relative">
      <span class="relative inline-block title-with-line">
        Proyectos
        <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-accent1 rounded title-underline"></span>
      </span>
    </h2>

    <div class="projects-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {projectsData.projects.map((project) => (
        <ProjectCard project={project} />
      ))}
    </div>

    <!-- "Ver más proyectos" button -->
    <div class="view-more-projects mt-12 text-center">
      <a
        href={siteConfig.moreProjectsLink}
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-primary bg-primary text-white py-3 px-8 rounded-md transition-all duration-300 inline-flex items-center hover:bg-secondary hover:shadow-lg hover:-translate-y-1 active:translate-y-0"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
        </svg>
        Ver Más Proyectos
      </a>
    </div>
  </div>
</section>

<style>
  .title-with-line {
    padding-bottom: 0.75rem;
  }

  .title-underline {
    transition: width 0.3s ease, transform 0.3s ease;
    transform-origin: center;
  }

  .title-with-line:hover .title-underline {
    width: 5rem;
  }

  .btn-primary:hover svg {
    transform: translateX(3px);
  }
</style>
