---
import profile from '../data/profile.json';
import { Image } from 'astro:assets';
---

<section id="sobre-mi" class="about py-16 bg-section-light">
  <div class="container mx-auto px-6">
    <h2 class="section-title text-3xl md:text-4xl font-bold text-slate-900 mb-12 text-center relative">
      <span class="relative inline-block title-with-line">
        Sobre MÃ­
        <span class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-accent1 rounded title-underline"></span>
      </span>
    </h2>

    <div class="about-content flex flex-col md:flex-row gap-10">
      <div class="about-image w-full md:w-2/5 lg:w-1/3 flex justify-center">
        <div class="relative rounded-full overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 w-64 h-64 bg-white border-2 border-slate-200">
          <Image
            src={profile.profileImage}
            alt={profile.name}
            class="w-full h-full object-cover relative z-10"
            width={256}  
            height={256} 
          />
        </div>
      </div>

      <div class="about-text w-full md:w-3/5 lg:w-2/3">
        {profile.about.text.map((paragraph, index) => (
          <p class="text-slate-700 mb-4 leading-relaxed hover:text-slate-900 transition-colors duration-300" style={`transition-delay: ${index * 100}ms`}>
            {paragraph}
          </p>
        ))}

        <div class="about-details mt-8 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
          {profile.about.details.map((detail) => (
            <div class="detail flex group items-center">
              <strong class="font-medium text-primary mr-2 group-hover:text-primary/80 transition-colors duration-300">{detail.label}:</strong>
              <span class="text-slate-700 transition-all duration-300 group-hover:translate-x-1">{detail.value}</span>
            </div>
          ))}
        </div>

        <div class="about-buttons mt-10 flex justify-center md:justify-start">
          <a
            href={profile.about.cvLink}
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary bg-primary text-white py-3 px-8 rounded-md transition-all duration-300 inline-flex items-center hover:bg-secondary hover:shadow-lg hover:-translate-y-1 active:translate-y-0"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            Descargar CV
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .title-with-line {
    padding-bottom: 0.75rem;
  }

  .title-underline {
    transition: width 0.3s ease, transform 0.3s ease;
    transform-origin: center;
  }

  .title-with-line:hover .title-underline {
    width: 5rem;
  }

  .btn-primary:hover svg {
    transform: translateX(3px);
  }
</style>
